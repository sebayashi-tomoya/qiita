**ã€ŒFlutterã§Firebaseã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ç¹‹ã„ã§ã¿ãŸã„ï¼ã€**
ã¨è€ƒãˆã¦ã„ãŸã‚‰ã¡ã‚‡ã†ã©ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’ã‚„ã£ã¦ã„ãŸã®ã§æ‰‹é †ã‚’ã“ã“ã«ã¾ã¨ã‚ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™

# å‚è€ƒè³‡æ–™
https://firebase.google.com/docs/flutter/setup?hl=ja&platform=ios

https://youtu.be/BWTQkkLC-Mo?si=OGuFX0BctDej8kJQ

https://youtu.be/ZKww9U0jvAM?si=uz5BX_sUb58w8mVS

# æ‰‹é †
1. Flutterã‚¢ãƒ—ãƒªã‚’ä½œæˆï¼ˆä»Šå›ã“ã®æ‰‹é †ã¯çœç•¥ã—ã¾ã™ï¼‰
2. Firebaseã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹
3. Flutterã‚¢ãƒ—ãƒªã¨Firebaseã‚’æ¥ç¶šã™ã‚‹
4. Firebaseã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹
5. ã‚¢ãƒ—ãƒªã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹

# 2.FireBaseã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹
Flutterã®ç’°å¢ƒæ§‹ç¯‰ã¯ã™ã§ã«æ¸ˆã‚“ã§ã„ã‚‹ã‚‚ã®ã¨ã—ã¦2ã‹ã‚‰å§‹ã‚ã¾ã™

ã¾ãšã€Firebaseã®ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ç”»é¢ã‚’é–‹ãã¾ã™
ãã†ã™ã‚‹ã¨ã€"Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹"ã¨ã„ã†é …ç›®ãŒã‚ã‚‹ã®ã§ãã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
![alt text](image.png)

ãã®å¾Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚„ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‹ã©ã†ã‹ãªã©è¨­å®šã™ã‚‹ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§å¥½ããªè¨­å®šã—ã¾ã™

ä»Šå›ã¯"firebaseStudy"ã¨ã„ã†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ã¦ã¿ã¾ã—ãŸ
ã“ã‚Œã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¯å®Œäº†ã§ã™ï¼ç°¡å˜ã§ã™ã­ğŸ‘
![alt text](image-1.png)

# 3.Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Flutterã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã™ã‚‹
Firebaseã¨Flutterã¯ã©ã¡ã‚‰ã‚‚GoogleãŒé–‹ç™ºã—ã¦ã„ã‚‹ã‚‚ã®ãªã®ã§ã€é€£æºã¯æ¯”è¼ƒçš„ç°¡å˜ã§ã™
å…ˆã»ã©ã®ç”»é¢ã§ã‚ˆãè¦‹ã‚‹ã¨Flutterã‚¢ãƒ—ãƒªè¿½åŠ ç”¨ã®ãƒœã‚¿ãƒ³ãŒã‚ã‚Šã¾ã™ã­
![alt text](image-2.png)

ã“ã‚Œã‚’æŠ¼ã—ã¦ã¿ã‚‹ã¨ã‚¢ãƒ—ãƒªè¿½åŠ ã®æ‰‹é †ã‚’æ•™ãˆã¦ãã‚Œã¾ã™
ã“ã®æ‰‹é †ã«å¾“ã£ã¦é€²ã‚ã‚‹ã ã‘ã§ã™

:::note info
æŠ•ç¨¿ä¸»ã¯Macãªã®ã§Macç”¨ã®æ‰‹é †ã¨ãªã‚Šã¾ã™
:::

## 3-1 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®æº–å‚™
![alt text](image-3.png)

ã¾ãšã¯Firebase CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
```
curl -sL https://firebase.tools | bash
```
ã“ã‚Œã§Firebaseã‚µãƒ¼ãƒ“ã‚¹ã®ç®¡ç†ãƒ»è¨­å®šã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™

Flutterã‚¢ãƒ—ãƒªã®ç’°å¢ƒæ§‹ç¯‰ãŒã§ãã¦ã„ã‚Œã°Flutter SDKã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¯å®Œäº†ã—ã¦ã„ã‚‹ãŸã‚ã€ä¸‹ã®äºŒã¤ã¯èª¬æ˜ã‚’çœç•¥ã—ã¾ã™

## 3-2 FlutterFire CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å®Ÿè¡Œ
![alt text](image-4.png)

FlutterFire CLIã¨ã¯ã€Flutterã‚¢ãƒ—ãƒªã§Firebaseã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã§ã™
ã“ã®CLIã‚’ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã‚‚åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ãŸã‚ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
```
dart pub global activate flutterfire_cli
```

ã“ã®å¾Œã€ç’°å¢ƒå¤‰æ•°ã«ãƒ‘ã‚¹ã‚’é€šã—ã¦ãã ã•ã„ã¨è­¦å‘ŠãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
```
Warning: Pub installs executables into $HOME/.pub-cache/bin, which is not on your path.
You can fix that by adding this to your shell's config file (.zshrc, .bashrc, .bash_profile, etc.):

  export PATH="$PATH":"$HOME/.pub-cache/bin"

```
ãã®å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦FlutterFireã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãƒ‘ã‚¹ã‚’é€šã—ã¦ã‚ã’ã¾ã—ã‚‡ã†
```
echo 'export PATH="$PATH:$HOME/.pub-cache/bin"' >> ~/.zshrc
```

æ¬¡ã¯ã€FlutterFireã‚³ãƒãƒ³ãƒ‰ã§ä½œæˆã—ã¦ãŠã„ãŸFlutterã‚¢ãƒ—ãƒªã‚’Firebaseã«è¿½åŠ ã—ã¾ã™
```
flutterfire configure --project=[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID]
```
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é…ä¸‹ã«firebase.options.dartã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸã§ã™

## 3-3 Firebaseã®åˆæœŸåŒ–ã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¿½åŠ 
ã‚ã¨ã¯ã‚¢ãƒ—ãƒªå´ã®ã‚³ãƒ¼ãƒ‰ã§Firebaseã®åˆæœŸåŒ–ã‚’ã™ã‚‹ã ã‘ã§ã™

`main`ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­èº«ã‚’æ›¸ãæ›ãˆã¾ã™
- asyncã«å¤‰æ›´
- `initializeApp`ãƒ¡ã‚½ãƒƒãƒ‰ã®è¿½åŠ 

```dart
import 'package:firebase_core/firebase_core.dart';
import 'package:firebase_study/firebase_options.dart';

void main() async {
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );
  runApp(const MyApp());
}
```

ã“ã“ã¾ã§ãã‚Œã°ã‚¢ãƒ—ãƒªå†…ã§Firebaseã®å„æ©Ÿèƒ½ãŒä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ä½¿ç”¨ã—ãŸã„Firebaseã®æ©Ÿèƒ½ã«åˆã‚ã›ã¦è¿½åŠ ã—ã¾ã™

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¸€è¦§

https://firebase.google.com/docs/flutter/setup?hl=ja&authuser=0&_gl=1*6g80d4*_ga*MTg0NzkwNDY4LjE3NTA1NjE1MzY.*_ga_CW55HF8NVT*czE3NTA1NjQzOTAkbzIkZzEkdDE3NTA1NjU1OTQkajYwJGwwJGgw&platform=ios#available-plugins

# 4.Firebaseã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹
Firebaseã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯"Firestore Database"ã¨ã„ã†åå‰ã§ã™
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ›ãƒ¼ãƒ ç”»é¢ã®å·¦ã‚¿ãƒ–ã‹ã‚‰æ§‹ç¯‰ > Firestore Databaseã‚’é¸æŠã—ã¾ã™
![alt text](image-5.png)

åˆå›ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆ"ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
![alt text](image-6.png)

ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™
ä»Šå›ã¯ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’"asia-northeast(Tokyo)"ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã‚’ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã«è¨­å®šã—ã¾ã™

ã“ã‚Œã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒä½œæˆã§ãã¾ã—ãŸãŒã€ã“ã®ã¾ã¾ã§ã¯ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã‚„èª­ã¿è¾¼ã¿ãŒåˆ¶é™ã•ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã™

Firestore Database ã®ãƒ›ãƒ¼ãƒ ã‹ã‚‰ã€ãƒ«ãƒ¼ãƒ«ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
![alt text](image-7.png)

ç¾çŠ¶ã ã¨ã€2025/7/22(ä½œæˆæ—¥ã®1ãƒ¶æœˆå¾Œ)ã‚’è¶…ãˆã‚‹ã¨æ“ä½œãŒä¸å¯ã«ãªã‚‹è¨­å®šã«ãªã£ã¦ã„ã¾ã™
ä»¥ä¸‹ã«æ›¸ããˆã¦ä¸€æ—¦ã™ã¹ã¦ã®æ¨©é™ã‚’è§£æ”¾ã—ã¦ãŠãã¾ã™
```
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```
"å…¬é–‹"ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦è¨­å®šã‚’é©ç”¨ã—ã¾ã™

:::note warn
ä»Šå›ã¯å€‹äººé–‹ç™ºã‹ã¤ãƒªãƒªãƒ¼ã‚¹ã—ãªã„ã‚¢ãƒ—ãƒªãªã®ã§ã€åˆ¶é™ã‚’è¨­ã‘ãªã„è¨­å®šã«ã—ã¦ã„ã¾ã™ã€‚ä¸Šè¨˜ã®è¨­å®šã ã¨èª°ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã¦ã—ã¾ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦é©åˆ‡ãªè¨­å®šã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚
:::

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã¤ã„ã¦
å®Ÿéš›ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã™ã‚‹å‰ã«ã€Firesore Databaseã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãŠãã¾ã™
ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚ˆã†ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã„ã†æ¦‚å¿µã¯å­˜åœ¨ã—ã¾ã›ã‚“

ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ > ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ > ã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ > ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ã®éšå±¤ã§æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™
(ã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãŒãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã‚ã‚Šã¾ã™)

ä¾‹ãˆã°ã€Xã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç°¡å˜ã«å†ç¾ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™
```
/ (ãƒ«ãƒ¼ãƒˆ)
â””â”€â”€ users (ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³)
    â”œâ”€â”€ user001 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
    â”‚   â”œâ”€â”€ name: "Suzuki Hanako"
    â”‚   â”œâ”€â”€ age: 21
    â”‚   â”œâ”€â”€ gender: "female"
    â”‚   â””â”€â”€ posts (ã‚µãƒ–ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³)
    â”‚       â”œâ”€â”€ post001 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
    â”‚       â”‚   â”œâ”€â”€ text: "Hello World"
    â”‚       â”‚   â””â”€â”€ timestamp: ...
    â”‚       â””â”€â”€ post002 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
    â””â”€â”€ user002 (ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)
        â””â”€â”€ ...
```

# 5.ã‚¢ãƒ—ãƒªã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹
Firebaseå´ã®æº–å‚™ã¯ã§ããŸã®ã§ã€ã„ã‚ˆã„ã‚ˆã‚¢ãƒ—ãƒªå´ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ã¾ã™

## 5-1 Firestoreãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¿½åŠ 
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¿½åŠ ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™
```
flutter pub add cloud_firestore
```

â€» pubspec.yamlã®dependenciesã«`firebase_cloud_firestore:`ã‚’è¿½åŠ ã™ã‚‹ã§ã‚‚OK

è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®šã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™
```
flutter pub get
```

## 5-2 ãƒ‡ãƒ¼ã‚¿ã®æŒ¿å…¥
æ–°ã—ã„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã‚‹ãŸã‚ã®æ§‹æ–‡ã¯ä»¥ä¸‹
```dart
final db = FirebaseFirestore.instance;

await db
    .collection(/*ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å*/)
    .doc(/*ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå*/)
    .set(/*æŒ¿å…¥ã—ãŸã„ãƒ‡ãƒ¼ã‚¿*/);
```

ä»Šå›ã¯ç­†è€…ãŒæ„›ã—ã¦ã‚„ã¾ãªã„TWICEãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã¦ã¿ã¾ã™
```dart
import 'package:firebase_cloud_firestore/firebase_cloud_firestore.dart';

/// Firebaseã¨é€šä¿¡ã‚’è¡Œã†ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹
class FirebaseService {
    final db = FirebaseFirestore.instance;
    static const String collection = 'members';

    /// ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ&ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥
    static Future<void> create() async {
        await db.collection(collection).doc('01').set({
            'name': 'NAYOEN',
            'birthDay': '1995/09/22',
            'birthPlace': 'éŸ“å›½',
            'memberColor': 'ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼'
        });

        await db.collection(collection).doc('02').set({
            'name': 'JEONGYEON',
            'birthDay': '1996/11/01',
            'birthPlace': 'éŸ“å›½',
            'memberColor': 'ã‚ªãƒªãƒ¼ãƒ–ã‚°ãƒªãƒ¼ãƒ³'
        });

        await db.collection(collection).doc('03').set({
            'name': 'MOMO',
            'birthDay': '1996/11/09',
            'birthPlace': 'æ—¥æœ¬',
            'memberColor': 'ãƒ”ãƒ³ã‚¯'
        });

        await db.collection(collection).doc('04').set({
            'name': 'SANA',
            'birthDay': '1996/12/29',
            'birthPlace': 'æ—¥æœ¬',
            'memberColor': 'ãƒ‘ãƒ¼ãƒ—ãƒ«'
        });

        await db.collection(collection).doc('05').set({
            'name': 'JIHYO',
            'birthDay': '1997/02/01',
            'birthPlace': 'éŸ“å›½',
            'memberColor': 'ã‚¢ãƒ—ãƒªã‚³ãƒƒãƒˆ'
        });

        await db.collection(collection).doc('06').set({
            'name': 'MINA',
            'birthDay': '1997/03/24',
            'birthPlace': 'æ—¥æœ¬',
            'memberColor': 'ãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³'
        });

        await db.collection(collection).doc('07').set({
            'name': 'DAHYUN',
            'birthDay': '1998/05/28',
            'birthPlace': 'éŸ“å›½',
            'memberColor': 'ãƒ›ãƒ¯ã‚¤ãƒˆ'
        });

        await db.collection(collection).doc('08').set({
            'name': 'CHAEYOUNG',
            'birthDay': '1999/04/23',
            'birthPlace': 'éŸ“å›½',
            'memberColor': 'ãƒ¬ãƒƒãƒ‰'
        });

        await db.collection(collection).doc('09').set({
            'name': 'TZUYU',
            'birthDay': '1999/06/14',
            'birthPlace': 'å°æ¹¾',
            'memberColor': 'ãƒ–ãƒ«ãƒ¼'
        });
    }
}
```

ã“ã®ã‚ˆã†ãªãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‹ã¤æ¯å›é€šä¿¡ã‚’å®Ÿè¡Œã™ã‚‹å®Ÿè£…ã‚’ã‚ˆã‚ã—ããªã„ã§ã™ãŒã€æœ¬é¡Œã¨ã¯ç•°ãªã‚‹ã®ã§ä¸€æ—¦è¦‹é€ƒã—ã¦ãã ã•ã„ğŸ˜Œ

é©å½“ãªãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã¦ã€å…ˆã»ã©ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç™ºç«ã•ã›ã¦ã¿ã¾ã™
```dart
// çœç•¥~~~~~~
@override
Widget build(BuildContext context) {
    return Scaffold(
        appBar: AppBar(
            title: const Text("TWICEãƒ¡ãƒ³ãƒãƒ¼"),
        ),
        body: Center(
            child: TextButton(
                onPressed: () => {FirebaseService().create()},
                child: const Text("Create")),
    ));
}
// çœç•¥~~~~~
```

![alt text](image-8.png)

ãƒ“ãƒ«ãƒ‰ã—ã¦"Create"ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã¿ã‚‹ã¨ã€ã€ã€
![alt text](image-9.png)
Firebaseã«ãƒ‡ãƒ¼ã‚¿ãŒæŒ¿å…¥ã•ã‚Œã¦ã„ã¾ã™ğŸ‰

## 5-3 ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
æœ€å¾Œã¯ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ç”»é¢ã«åæ˜ ã•ã›ã¦ã¿ã¾ã—ã‚‡ã†

å…ˆã»ã©ã®`FirebaseService`ã‚¯ãƒ©ã‚¹ã«ãƒ‡ãƒ¼ã‚¿å–å¾—ç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã™
```dart
/// Firebaseã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦{key, data}ã®ãƒªã‚¹ãƒˆã«å¤‰æ›ã—ã¦è¿”å´
Future<List<Map<String, dynamic>>> fetchMembers() async {
    final snapshot = await db.collection(collection).get();
    return snapshot.docs.map((doc) => doc.data()).toList();
}
```

å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãã®ã¾ã¾ãƒ†ãƒ¼ãƒ–ãƒ«ã§è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ãƒ¡ã‚¤ãƒ³ç”»é¢ã®å®Ÿè£…ã‚’ç·¨é›†ã—ã¾ã™
```dart
// çœç•¥~~~~
  @override
  Widget build(BuildContext context) {
    return Scaffold(
        appBar: AppBar(
          title: const Text("TWICEãƒ¡ãƒ³ãƒãƒ¼"),
        ),
        body: FutureBuilder(
            future: FirebaseService().fetchMembers(),
            builder: (context, snapshot) {
              if (snapshot.connectionState == ConnectionState.waiting) {
                // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ä¸­ã¯ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’è¡¨ç¤ºã•ã›ã‚‹
                return const Center(child: CircularProgressIndicator());
              }
              if (snapshot.hasError) {
                // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
                return Center(child: Text("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${snapshot.error}"));
              }

              final members = snapshot.data ?? [];

              // ãƒ‡ãƒ¼ã‚¿ãŒ1ä»¶ã‚‚å­˜åœ¨ã—ãªã„æ™‚
              if (members.isEmpty) {
                return const Center(child: Text("ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“"));
              }

              // å–å¾—æˆåŠŸæ™‚ã¯ãƒ†ãƒ¼ãƒ–ãƒ«ã§è¡¨ç¤ºã™ã‚‹
              return SingleChildScrollView(
                  scrollDirection: Axis.horizontal,
                  child: DataTable(
                    columns: const [
                      DataColumn(label: Text("åå‰")),
                      DataColumn(label: Text("ç”Ÿå¹´æœˆæ—¥")),
                      DataColumn(label: Text("å‡ºèº«åœ°")),
                      DataColumn(label: Text("ãƒ¡ãƒ³ãƒãƒ¼ã‚«ãƒ©ãƒ¼")),
                    ],
                    rows: members.map((member) {
                      return DataRow(
                        cells: [
                          DataCell(Text(member['name'] ?? '')),
                          DataCell(Text(member['birthDay'] ?? '')),
                          DataCell(Text(member['birthPlace'] ?? '')),
                          DataCell(Text(member['memberColor'] ?? '')),
                        ],
                      );
                    }).toList(),
                  ));
            }));
  }
// çœç•¥~~~~
```

å†ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã¾ã™ï¼
![alt text](image-10.png)

ç„¡äº‹è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã­ğŸ¥³